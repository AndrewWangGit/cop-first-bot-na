function addMoreItems(){var t=1;$("#add").click(function(){t++,$("#dynamic_field").append('<tr id="row'+t+'"><td class="sub-row"><input class="keyword eyenput" type="text" name="keyword" id="keywords" placeholder="Keywords" autocomplete="off" /><input class="color eyenput" type="text" name="color" id="color" placeholder="Color" autocomplete="off" /><input class="size eyenput" type="text" name="size" id="size'+t+'" placeholder="Size" autocomplete="off" /><input class="qty eyenput" type="text" name="qty" id="qty'+t+'" placeholder="Qty" autocomplete="off" value="N/A" disabled/></td><td class="special"><select class="category" id="category'+t+'"><option value="jackets">Jackets</option><option value="shirts">Shirts</option><option value="tops_sweaters">Tops/Sweaters</option><option value="sweatshirts">Sweatshirts</option><option value="pants">Pants</option><option value="t-shirts">T-shirts</option><option value="shorts">Shorts</option><option value="hats">Hats</option><option value="bags">Bags</option><option value="accessories">Accessories</option><option value="shoes">Shoes</option><option value="skate">Skate</option></select><div class="check-container"><input type="button" class="togglebtn" id="anysize'+t+'" value="Any Size: OFF"></input></div><button name="remove" id="'+t+'" class="btn btn-danger btn_remove">Remove Item.</button></td></tr>')}),$(document).on("click",".btn_remove",function(){var e=$(this).attr("id");$("#row"+e).remove(),t--}),$(document).on("click",".togglebtn",function(){var e=$(this).attr("id");"Any Size: OFF"==$("#"+e).val()?$("#"+e).val("Any Size: ON"):$("#"+e).val("Any Size: OFF")})}function greyQty(){$(document).on("change",".category",function(){var e=$(this).val(),t=$(this).attr("id").substring(8);"accessories"==e?($("#qty"+t).prop("disabled",!1),$("#qty"+t).val("")):($("#qty"+t).prop("disabled",!0),$("#qty"+t).val("N/A"))})}function toTitleCase(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}function populateItems(){var t=0,o=[],s=[],a=[],n=[],l=[],c=[];chrome.storage.sync.get(["keyword","color","sizeUI","anySizeUI","category","qtyUI"],function(e){for(void 0!==e.keyword&&(o=e.keyword,t=o.length),s=e.color,a=e.sizeUI,c=e.anySizeUI,n=e.category,l=e.qtyUI,i=0;i<t-1;i++)document.getElementById("add").click();for(i=0;i<t;i++)document.getElementsByClassName("keyword")[i].value=o[i],document.getElementsByClassName("color")[i].value=s[i],document.getElementsByClassName("size")[i].value=a[i],document.getElementsByClassName("category")[i].value=n[i],document.getElementsByClassName("qty")[i].value=l[i],"accessories"==n[i]&&(document.getElementsByClassName("qty")[i].disabled=!1),c[i]?document.getElementsByClassName("togglebtn")[i].value="Any Size: ON":document.getElementsByClassName("togglebtn")[i].value="Any Size: OFF"})}$(document).ready(function(){populateItems(),addMoreItems(),greyQty()}),document.getElementsByClassName("help")[0].addEventListener("click",function(){window.open("https://www.copfirst.com/pages/help#select_items")}),document.getElementById("save").addEventListener("click",function(){var e=[],t=[],o=[],s=[],a=[],n=[],l=document.getElementsByClassName("keyword").length;for(i=0;i<l;i++){e.push(document.getElementsByClassName("keyword")[i].value.toLowerCase().trimRight().trimLeft()),t.push(document.getElementsByClassName("color")[i].value.toLowerCase().trimRight().trimLeft()),s.push(document.getElementsByClassName("qty")[i].value.trimLeft().trimRight()),a.push(document.getElementsByClassName("category")[i].value),"Any Size: ON"==document.getElementsByClassName("togglebtn")[i].value?n.push(!0):n.push(!1);var c=toTitleCase(document.getElementsByClassName("size")[i].value);"Sml"==(c=c.trimRight().trimLeft())||"Sm"==c||"S"==c?o.push("Small"):"M"==c||"Med"==c?o.push("Medium"):"Lge"==c||"Lrg"==c||"Lg"==c||"L"==c?o.push("Large"):"Xlarge"==c||"Xlg"==c||"Xl"==c?o.push("XLarge"):o.push(c)}chrome.storage.sync.set({keyword:e,color:t,category:a,qty:s,qtyUI:s,size:o,sizeUI:o,anySize:n,anySizeUI:n},function(){alert("Items have been successfully saved!")})});

function loadingMessage(){document.getElementsByTagName("div")[0].textContent="Connecting to server...",document.getElementsByTagName("div")[0].style.background="gray",document.getElementsByTagName("div")[0].hidden=!1}function retrieveInfoFromServer(r,o){$.ajax({url:"https://dashboard.copfirst.com/request.php",type:"GET",success:function(e){var t=JSON.stringify(e);o=MD5(o);var n=t.indexOf(r);-1!=n&&(t=(t=(t=t.substring(n)).substring(t.indexOf("password")+13)).substring(0,t.indexOf("\\"))),t==o?(window.open("SelectItems.html","_self"),chrome.browserAction.setPopup({popup:"SelectItems.html"})):displayError()}})}function displayError(){document.getElementsByTagName("div")[0].textContent="Login information is incorrect.",document.getElementsByTagName("div")[0].style.background="#D8000C"}document.getElementsByClassName("help")[0].addEventListener("click",function(){window.open("https://www.copfirst.com/pages/help#login")}),document.getElementById("login").addEventListener("click",function(){var e=document.getElementById("email").value,t=document.getElementById("password").value;loadingMessage(),retrieveInfoFromServer(e,t)}),document.getElementById("password").addEventListener("keyup",function(e){13===e.keyCode&&(e.preventDefault(),document.getElementById("login").click())});var MD5=function(e){function u(e,t){return e<<t|e>>>32-t}function c(e,t){var n,r,o,i,a;return o=2147483648&e,i=2147483648&t,a=(1073741823&e)+(1073741823&t),(n=1073741824&e)&(r=1073741824&t)?2147483648^a^o^i:n|r?1073741824&a?3221225472^a^o^i:1073741824^a^o^i:a^o^i}function t(e,t,n,r,o,i,a){var d;return e=c(e,c(c((d=t)&n|~d&r,o),a)),c(u(e,i),t)}function n(e,t,n,r,o,i,a){var d;return e=c(e,c(c(t&(d=r)|n&~d,o),a)),c(u(e,i),t)}function r(e,t,n,r,o,i,a){return e=c(e,c(c(t^n^r,o),a)),c(u(e,i),t)}function o(e,t,n,r,o,i,a){return e=c(e,c(c(n^(t|~r),o),a)),c(u(e,i),t)}function i(e){var t,n="",r="";for(t=0;t<=3;t++)n+=(r="0"+(e>>>8*t&255).toString(16)).substr(r.length-2,2);return n}var a,d,s,g,m,l,f,v,p,y=Array();for(y=function(e){for(var t,n=e.length,r=n+8,o=16*(1+(r-r%64)/64),i=Array(o-1),a=0,d=0;d<n;)a=d%4*8,i[t=(d-d%4)/4]=i[t]|e.charCodeAt(d)<<a,d++;return a=d%4*8,i[t=(d-d%4)/4]=i[t]|128<<a,i[o-2]=n<<3,i[o-1]=n>>>29,i}(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):(127<r&&r<2048?t+=String.fromCharCode(r>>6|192):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128)),t+=String.fromCharCode(63&r|128))}return t}(e)),l=1732584193,f=4023233417,v=2562383102,p=271733878,a=0;a<y.length;a+=16)l=t(d=l,s=f,g=v,m=p,y[a+0],7,3614090360),p=t(p,l,f,v,y[a+1],12,3905402710),v=t(v,p,l,f,y[a+2],17,606105819),f=t(f,v,p,l,y[a+3],22,3250441966),l=t(l,f,v,p,y[a+4],7,4118548399),p=t(p,l,f,v,y[a+5],12,1200080426),v=t(v,p,l,f,y[a+6],17,2821735955),f=t(f,v,p,l,y[a+7],22,4249261313),l=t(l,f,v,p,y[a+8],7,1770035416),p=t(p,l,f,v,y[a+9],12,2336552879),v=t(v,p,l,f,y[a+10],17,4294925233),f=t(f,v,p,l,y[a+11],22,2304563134),l=t(l,f,v,p,y[a+12],7,1804603682),p=t(p,l,f,v,y[a+13],12,4254626195),v=t(v,p,l,f,y[a+14],17,2792965006),l=n(l,f=t(f,v,p,l,y[a+15],22,1236535329),v,p,y[a+1],5,4129170786),p=n(p,l,f,v,y[a+6],9,3225465664),v=n(v,p,l,f,y[a+11],14,643717713),f=n(f,v,p,l,y[a+0],20,3921069994),l=n(l,f,v,p,y[a+5],5,3593408605),p=n(p,l,f,v,y[a+10],9,38016083),v=n(v,p,l,f,y[a+15],14,3634488961),f=n(f,v,p,l,y[a+4],20,3889429448),l=n(l,f,v,p,y[a+9],5,568446438),p=n(p,l,f,v,y[a+14],9,3275163606),v=n(v,p,l,f,y[a+3],14,4107603335),f=n(f,v,p,l,y[a+8],20,1163531501),l=n(l,f,v,p,y[a+13],5,2850285829),p=n(p,l,f,v,y[a+2],9,4243563512),v=n(v,p,l,f,y[a+7],14,1735328473),l=r(l,f=n(f,v,p,l,y[a+12],20,2368359562),v,p,y[a+5],4,4294588738),p=r(p,l,f,v,y[a+8],11,2272392833),v=r(v,p,l,f,y[a+11],16,1839030562),f=r(f,v,p,l,y[a+14],23,4259657740),l=r(l,f,v,p,y[a+1],4,2763975236),p=r(p,l,f,v,y[a+4],11,1272893353),v=r(v,p,l,f,y[a+7],16,4139469664),f=r(f,v,p,l,y[a+10],23,3200236656),l=r(l,f,v,p,y[a+13],4,681279174),p=r(p,l,f,v,y[a+0],11,3936430074),v=r(v,p,l,f,y[a+3],16,3572445317),f=r(f,v,p,l,y[a+6],23,76029189),l=r(l,f,v,p,y[a+9],4,3654602809),p=r(p,l,f,v,y[a+12],11,3873151461),v=r(v,p,l,f,y[a+15],16,530742520),l=o(l,f=r(f,v,p,l,y[a+2],23,3299628645),v,p,y[a+0],6,4096336452),p=o(p,l,f,v,y[a+7],10,1126891415),v=o(v,p,l,f,y[a+14],15,2878612391),f=o(f,v,p,l,y[a+5],21,4237533241),l=o(l,f,v,p,y[a+12],6,1700485571),p=o(p,l,f,v,y[a+3],10,2399980690),v=o(v,p,l,f,y[a+10],15,4293915773),f=o(f,v,p,l,y[a+1],21,2240044497),l=o(l,f,v,p,y[a+8],6,1873313359),p=o(p,l,f,v,y[a+15],10,4264355552),v=o(v,p,l,f,y[a+6],15,2734768916),f=o(f,v,p,l,y[a+13],21,1309151649),l=o(l,f,v,p,y[a+4],6,4149444226),p=o(p,l,f,v,y[a+11],10,3174756917),v=o(v,p,l,f,y[a+2],15,718787259),f=o(f,v,p,l,y[a+9],21,3951481745),l=c(l,d),f=c(f,s),v=c(v,g),p=c(p,m);return(i(l)+i(f)+i(v)+i(p)).toLowerCase()};
